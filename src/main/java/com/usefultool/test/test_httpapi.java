package com.usefultool.test;

public class test_httpapi {

    /**
     * 用来记录一下阿。。。
     * 通过influxdb 的 http api 进行查询 其实都封装过的，工具类里面
     * 主要后面还有解析json，api返回的json真是反人类。。
     *
     */

    void cute(){

//        RestTemplate restTemplate = new RestTemplate();
//        String url="http://localhost:8086/query?pretty=true&q=select * from cpu order by time desc limit 2&db=test";
//        // 返回的数据
//        String list = restTemplate.getForObject(url, String.class);
//        JSONObject jsonObject = JSONObject.parseObject(list);
//        System.out.println(jsonObject);
//
//        // 取value
//        JSONArray result = (JSONArray) jsonObject.get("results");
//        JSONObject series = (JSONObject) result.get(0);
//        JSONArray series_list = (JSONArray) series.get("series");
//        JSONObject series_list_2 = (JSONObject) series_list.get(0);
//        JSONArray value = (JSONArray) series_list_2.get("values");
////        System.out.println(value);
//
//        // JSONArray 转 String
//        String str = JSONObject.toJSONString(value);
//        List list1 = JSONObject.parseArray(str);


    }
}
